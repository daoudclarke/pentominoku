import {atMostRestriction, boxNeighbourValues, PrimeNumberRestriction} from "./restrictions";
import {Solver} from "./solver";
import {allPossible, getDisplay} from "./possible";
import {expect} from "@jest/globals";


test('test box restriction', () => {
  const restriction = atMostRestriction(boxNeighbourValues);

  const currentPossible = allPossible.slice();
  const fourOrSix = (1 << 3) | (1 << 5);
  currentPossible[0] = fourOrSix;
  currentPossible[1] = fourOrSix;
  const possible = restriction(currentPossible)
  const display = getDisplay(possible);

  const expected = `       46        46   1235789 123456789 123456789 123456789 123456789 123456789 123456789
  1235789   1235789   1235789 123456789 123456789 123456789 123456789 123456789 123456789
  1235789   1235789   1235789 123456789 123456789 123456789 123456789 123456789 123456789
123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789
123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789
123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789
123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789
123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789
123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789`;

  expect(display).toEqual(expected);
})
